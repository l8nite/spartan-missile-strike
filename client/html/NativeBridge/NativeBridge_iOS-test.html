<html>
	<head>
		<title>NativeBridge_iOS Test</title>
		<link rel="stylesheet" href="../qunit/qunit.css">
	</head>
	<body>
		<div id="qunit"></div>
		<div id="qunit-fixture"></div>
		<script src="../qunit/qunit.js"></script>
		<script src="NativeBridge_Abstract.js"></script>
		<script src="NativeBridge_iOS.js"></script>
		<script>
			asyncTest("getLocation() & getCurrentLocation()", 2, function() {
				var NativeBridge = new NativeBridge_iOS();
				NativeBridge.getLocation(function(response) {
					ok(("latitude" in response) && ("longitude" in response), "Correct properties names");
					ok((typeof(response.latitude) == "number") && (typeof(response.longitude) == "number"), "Correct property types");
					start();
				});
			});

			asyncTest("getPreference & setPreference", 2, function() {
				var NativeBridge = new NativeBridge_iOS();
				NativeBridge.setLocalPreference({
					one : "one",
					two : "two"
				});
				NativeBridge.getLocalPreference("one", function(response) {
					ok(response == "one", "First preference set/got correctly");
				});
				NativeBridge.getLocalPreference("two", function(response) {
					ok(response == "two", "Second preference set/got correctly");
				});
			});
		</script>
	</body>
</html>