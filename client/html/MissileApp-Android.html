<html>
<head>
	<link rel="stylesheet" href="View/view.css">
	<link rel="stylesheet" href="MissileApp.css">
	<style>
		body {
			text-align: center;
			background-color: transparent;
		}
		#main-menu {
			background-color: #8080F0;
		}
		#map-view {
			background-color: #F08080;
		}
		#fire-view {
			background-color: transparent;
		}
		#fire-view div {
			background-color: #80F080;
		}
		#options-view {
			background-color: #F0F080;
		}
		#opponents-view {
			background-color: #808080;
		}
		#base-view {
			background-color: #F080F0;
		}
	</style>
	<script src="jquery/jquery.js"></script>
	<script src="Util/DomHelper.js"></script>
	<script src="Util/Fridge.js"></script>
	<script src="NativeBridge/NativeBridge_Abstract.js"></script>
	<script src="NativeBridge/NativeBridge_Android.js"></script>
	<script src="Game/GameMaster.js"></script>
	<script src="View/MainView.js"></script>
	<script src="View/View.js"></script>
	<script src="View/FixedHeightView.js"></script>
	<script src="Game/PlayToStart.js"></script>
	<script src="Game/MainMenu.js"></script>
	<script src="Game/MapView.js"></script>
	<script src="Game/FireView.js"></script>
	<script src="Game/OpponentsView.js"></script>
	<script src="Game/BaseView.js"></script>
	<script>
	window.onload = function () {
		var Imports = {
			NativeBridge: new NativeBridge_Android(),
			ViewManager: new MainView(),
			domId: {
				"PlayToStart": "play-to-start",
				"MainMenu": "main-menu",
				"MapView": "map-view",
				"FireView": "fire-view",
				"OptionsView": "options-view",
				"OpponentsView": "opponents-view",
				"BaseView": "base-view"
			},
			serviceurl: "https://api.missileapp.com:443",
			Views:  []
		};

		window.NativeBridge = {
			callback: Imports.NativeBridge.callback.bind(Imports.NativeBridge),
			onMainMenu: function () {
				AndroidInterface.onMainMenu(Imports.ViewManager.onInitialView());
			},
			previousView: Imports.ViewManager.previousView.bind(Imports.ViewManager),
			wake: Imports.SuspendManager.wake.bind(Imports.SuspendManager)
		};

		Imports.Views["PlayToStart"] = new PlayToStart(Imports);
		Imports.Views["PlayToStart"].show();
		setTimeout(function () {
			Imports.NativeBridge.playSound("background_music", {
				foreground: false,
				loop: true
			});
			Imports.NativeBridge.hideSplash();
		}, 2000);
	};
	</script>
</head>
<body>
	<div style="display:none;">
		<div id="play-to-start"></div>
		<div id="main-menu">
			<div>Welcome,</div>
			<div class="yourname"></div><br>
			<div class="newGameBtn">New Game</div>
			<div id="list-yourturn"><h1>Your Turn</h1></div>
			<div id="list-histurn"><h1>Not Your Turn</h1></div>
			<div id="list-complete"><h1>Nobody's Turn</h1></div>
			<div style="display: none;">
				<div id="game-prototype">
					<span class="opponent"></span>
				</div>
			</div>
		</div>
		<div id="opponents-view">
			<div><input type="text" id="opponent-input"></div><br>
			<div class="startBtn">Start game</div>
			<div class="backBtn">Back</div>
		</div>
		<div id="base-view">
			<div style="word-wrap: break-word;" class="gps">---</div><br>
			<div class="startBtn">Use current location</div>
			<div class="backBtn">Back</div>
		</div>
		<div id="map-view">
			<div class="map" id="bingmap"></div>
			<div class="buttons">
				<div class="fireBtn"></div>
				<div class="backBtn"></div>
			</div>
		</div>
		<div id="fire-view">
			<div style="word-wrap: break-word;" class="gps">---</div><br>
			<div style="word-wrap: break-word;" class="orientation">---</div><br>
			<div class="fireBtn">Fire!</div>
			<div class="backBtn">Back</div>
		</div>
	</div>
</body>
</html>
